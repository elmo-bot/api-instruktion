<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>API – Interaktiv demo</title>
  <link rel="stylesheet" href="src/styles.css" />
</head>
<body>
  <main class="app" id="app">

    <header class="top">
      <div class="brand">
        <img src="assets/loggatransparant.png" alt="Företagslogga" />
      </div>

      <div class="controls">
        <select id="scenario" class="select" aria-label="Scenario">
          <option value="burger">Hamburgare (GET /menu/items/42)</option>
          <option value="uber">Beställ resa (POST /rides)</option>
          <option value="login">Bokningar (GET /bookings, auth)</option>
        </select>

        <button id="prev" class="btn" type="button" aria-label="Föregående">←</button>
        <button id="next" class="btn primary" type="button">Nästa</button>
      </div>
    </header>

    <section class="hero">
      <div class="copy">
        <div class="kicker">API • interaktiv förklaring</div>
        <h1 id="title">Välj scenario och tryck Nästa</h1>
        <p id="desc">En puls i taget visar exakt hur request → response går.</p>

        <div class="tech">
          <div class="kv"><span>Method</span><b id="tMethod">—</b></div>
          <div class="kv"><span>Endpoint</span><b id="tEndpoint">—</b></div>
          <div class="kv"><span>Status</span><b id="tStatus">—</b></div>
        </div>

        <div class="progress" aria-label="Progress">
          <div class="dots" id="dots"></div>
          <div class="stepText" id="stepText">Steg 1/1</div>
        </div>
      </div>

      <div class="scene" aria-label="Scen">
        <div class="stage" id="stage">
          <!-- Puls-layer -->
          <svg class="pulseLayer" id="pulseLayer" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
            <defs>
              <filter id="glow">
                <feGaussianBlur stdDeviation="1.2" result="blur" />
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- Baslinjer (svagt) -->
            <path class="wire" d="M18 40 C33 40 40 50 50 50" />
            <path class="wire" d="M50 50 C60 50 67 40 82 40" />
            <path class="wire" d="M82 40 C86 52 86 66 78 78" />
            <path class="wire" d="M78 78 C64 84 60 76 52 66" />

            <!-- Geometri (osynlig, används för pulser) -->
            <path class="geom" id="g-app-api"     d="M18 40 C33 40 40 50 50 50" />
            <path class="geom" id="g-api-server"  d="M50 50 C60 50 67 40 82 40" />
            <path class="geom" id="g-server-db"   d="M82 40 C86 52 86 66 78 78" />
            <path class="geom" id="g-db-server"   d="M78 78 C86 66 86 52 82 40" />
            <path class="geom" id="g-server-api"  d="M82 40 C67 40 60 50 50 50" />
            <path class="geom" id="g-api-app"     d="M50 50 C40 50 33 40 18 40" />
          </svg>

          <!-- Noder -->
          <div class="node appNode" id="n-app">
            <div class="nodeTitle">App</div>
            <div class="nodeSub">Gäst + Meny</div>
          </div>

          <div class="node apiNode" id="n-api">
            <div class="nodeTitle">API</div>
            <div class="nodeSub">Mellanhand</div>
          </div>

          <div class="node serverNode" id="n-server">
            <div class="nodeTitle">Server</div>
            <div class="nodeSub">Backend</div>
          </div>

          <div class="node dbNode" id="n-db">
            <div class="nodeTitle">Databas</div>
            <div class="nodeSub">Data</div>
          </div>

          <!-- Response card (visas i slutet) -->
          <div class="response" id="response" aria-hidden="true">
            <div class="respDot"></div>
            <div>
              <div class="respTitle">Svar</div>
              <div class="respText" id="respText">200 OK</div>
            </div>
            <div class="respCode" id="respCode">200</div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <script src="src/app.js"></script>
</body>
</html>
